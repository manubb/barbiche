!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Barbiche=t()}}(function(){return function t(e,r,n){function i(o,a){if(!r[o]){if(!e[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[o]={exports:{}};e[o][0].call(u.exports,function(t){var r=e[o][1][t];return i(r||t)},u,u.exports,t,e,r,n)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,e,r){var n=function(){function t(t,e){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),null==t&&(t="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:t}),this.hash=e;var r;if(e&&e.exception instanceof Error){var n=e.exception;this.message=n.message||t,r=n.stack}r||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):r=new Error(t).stack),r&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:r})}function e(t,e,r){r=r||0;for(var n=0;n<e;n++)this.push(t),t+=r}function r(t,e){for(t=this.length-t,e+=t;t<e;t++)this.push(this[t])}function n(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];"function"==typeof i?(r++,i.apply(e,t[r])):e.push(i)}return e}function i(t){return String.fromCharCode(parseInt(t,16))}function s(){return arguments[1]?$[arguments[1]]:i(arguments[2]||arguments[3])}function o(t){return t.replace(L,s)}function a(t,e){return t()||e()}function c(t,e){return t()&&e()}function l(t,e){return t()==e()}function u(t,e){return t()!=e()}function h(t,e){return t()===e()}function f(t,e){return t()!==e()}function p(t,e){return t()<=e()}function y(t,e){return t()<e()}function d(t,e){return t()>=e()}function _(t,e){return t()>e()}function b(t){return!t()}function m(){return[]}function v(t){return[t()]}function g(t,e){var r=t();return r.push(e()),r}function E(t,e){var r=t();if(null!=r){var n=r[e()];return"function"==typeof n?n.bind(r):n}}function x(t,e){var r=t();if("function"==typeof r)return r.apply(null,e())}function k(t,e){return new this.BBObj(t(),e())}function N(t,e){return t()+e()}function A(t,e){var r=t();return r._order=e,r}function S(){return!0}function O(){return!1}function w(){return null}function P(){}function R(){this.yy={}}"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,Error.prototype):t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t.prototype.name="JisonParserError";var I={trace:function(){},JisonParserError:t,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{"!":7,"!=":19,"!==":21,$accept:0,$end:1,"&&":17,"(":8,")":9,"+":6,"++":15,",":13,"--":14,".":12,":":3,"<":4,"<=":22,"==":18,"===":20,">":5,">=":23,Arguments:35,Array:36,EOF:1,FALSE:28,IDENTIFIER:26,List:37,Main:31,NULL:30,NUMBER:24,Order:32,PropertyName:34,STRING:25,SimpleExpression:33,TRUE:27,UNDEFINED:29,"[":10,"]":11,error:2,"||":16},terminals_:{1:"EOF",2:"error",3:":",4:"<",5:">",6:"+",7:"!",8:"(",9:")",10:"[",11:"]",12:".",13:",",14:"--",15:"++",16:"||",17:"&&",18:"==",19:"!=",20:"===",21:"!==",22:"<=",23:">=",24:"NUMBER",25:"STRING",26:"IDENTIFIER",27:"TRUE",28:"FALSE",29:"UNDEFINED",30:"NULL"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,__reentrant_call_depth:0,__error_infos:[],quoteName:function(t){return'"'+t+'"'},describeSymbol:function(t){if(t!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[t])return this.terminal_descriptions_[t];if(t===this.EOF)return"end of input";if(this.terminals_[t])return this.quoteName(this.terminals_[t]);var e=this.symbols_;for(var r in e)if(e[r]===t)return r;return null},collect_expected_token_set:function(t,e){var r=this.TERROR,n=[],i={};if(!e&&this.state_descriptions_&&this.state_descriptions_[t])return[this.state_descriptions_[t]];for(var s in this.table[t])if((s=+s)!==r){var o=e?s:this.describeSymbol(s);o&&!i[o]&&(n.push(o),i[o]=!0)}return n},productions_:function(t){for(var e=[],r=t.pop,n=t.rule,i=0,s=r.length;i<s;i++)e.push([r[i],n[i]]);return e}({pop:n([31,31,32,32,e,[33,25],34,35,35,36,36,37,37]),rule:n([2,3,1,1,e,[3,12],2,3,2,4,r,[19,3],e,[1,7],r,[14,3],3,1,3])}),performAction:function(t,e,r,n){var i=this.yy;switch(e){case 1:return n[r-1];case 2:return A.bind(null,n[r-2],n[r-1]);case 3:this.$="after";break;case 4:this.$="before";break;case 5:this.$=k.bind(i,n[r-2],n[r]);break;case 6:this.$=a.bind(null,n[r-2],n[r]);break;case 7:this.$=c.bind(null,n[r-2],n[r]);break;case 8:this.$=l.bind(null,n[r-2],n[r]);break;case 9:this.$=u.bind(null,n[r-2],n[r]);break;case 10:this.$=h.bind(null,n[r-2],n[r]);break;case 11:this.$=f.bind(null,n[r-2],n[r]);break;case 12:this.$=p.bind(null,n[r-2],n[r]);break;case 13:this.$=d.bind(null,n[r-2],n[r]);break;case 14:this.$=y.bind(null,n[r-2],n[r]);break;case 15:this.$=_.bind(null,n[r-2],n[r]);break;case 16:this.$=N.bind(null,n[r-2],n[r]);break;case 17:this.$=b.bind(null,n[r]);break;case 18:case 32:case 34:this.$=n[r-1];break;case 19:this.$=x.bind(null,n[r-1],n[r]);break;case 20:this.$=E.bind(null,n[r-3],n[r-1]);break;case 21:this.$=E.bind(null,n[r-2],n[r]);break;case 22:this.$=n[r];break;case 23:var s=Number(t);this.$=function(){return s};break;case 24:case 30:this.$=function(){return t};break;case 25:this.$=i.context.resolve.bind(i.context,t);break;case 26:this.$=S;break;case 27:this.$=O;break;case 28:this.$=P;break;case 29:this.$=w;break;case 31:case 33:this.$=m;break;case 35:this.$=v.bind(null,n[r]);break;case 36:this.$=g.bind(null,n[r-2],n[r])}},table:function(t){for(var e=[],r=t.len,n=t.symbol,i=t.type,s=t.state,o=t.mode,a=t.goto,c=0,l=r.length;c<l;c++){for(var u=r[c],h={},f=0;f<u;f++){var p=n.shift();switch(i.shift()){case 2:h[p]=[o.shift(),a.shift()];break;case 0:h[p]=s.shift();break;default:h[p]=[3]}}e.push(h)}return e}({len:n([13,1,20,12,12,e,[0,8],14,0,1,e,[12,12],0,12,2,r,[20,3],22,17,0,2,19,0,e,[22,12],17,e,[0,3],r,[26,3],r,[55,3],19]),symbol:n([7,8,10,e,[24,8,1],33,36,1,1,e,[3,4,1],e,[8,4,2],e,[15,9,1],32,35,r,[34,10],33,36,r,[12,15],11,r,[13,9],37,1,r,[39,27],r,[12,129],26,34,e,[7,4,1],r,[173,11],r,[231,5],e,[9,15,1],35,r,[21,7],12,r,[17,9],11,13,r,[40,10],r,[21,9],r,[60,22],r,[22,242],r,[554,6],11,r,[302,10],9,13,r,[371,12],r,[314,19]]),type:n([e,[2,10],e,[0,3],1,e,[2,18],0,0,r,[12,34],r,[59,4],r,[51,47],r,[12,111],r,[173,26],r,[24,11],r,[17,33],r,[21,25],r,[22,260],r,[17,13],r,[355,20],0]),state:n([1,2,5,15,28,34,5,35,5,38,5,37,40,5,41,5,42,5,43,5,44,5,45,5,46,5,47,5,48,5,49,5,50,5,51,5,52,5,53,38,5,56,e,[28,16],62,5,28]),mode:n([e,[1,202],e,[2,5],1,2,1,r,[4,3],e,[2,10],r,[44,24],r,[40,5],r,[57,9],r,[19,9],r,[49,10],r,[21,13],r,[22,8],r,[21,14],r,[22,7],r,[21,15],r,[25,6],r,[21,65],r,[6,5],r,[204,14],r,[21,67],r,[288,40],r,[298,23]]),goto:n([3,4,13,e,[6,7,1],14,16,25,26,27,33,e,[29,4,1],e,[17,8,1],r,[28,10],r,[10,13],36,r,[11,7],39,r,[32,23],r,[10,107],54,3,4,55,r,[12,8],e,[17,5],33,17,29,17,30,e,[17,11],r,[212,5],57,29,30,r,[211,8],58,59,r,[18,5],35,29,35,30,35,r,[20,8],5,5,r,[19,4],5,29,5,30,e,[5,3],r,[21,8],6,6,r,[21,4],6,29,6,30,e,[6,4],r,[21,7],7,7,r,[21,4],7,29,7,30,e,[7,5],r,[21,6],8,8,r,[21,4],8,29,8,30,e,[8,9],23,24,9,9,r,[21,4],9,29,9,30,e,[9,9],23,24,10,10,r,[21,4],10,29,10,30,e,[10,9],23,24,11,11,r,[21,4],11,29,11,30,e,[11,9],23,24,e,[12,4],27,33,12,29,12,30,e,[12,11],e,[13,4],27,33,13,29,13,30,e,[13,11],e,[14,4],27,33,14,29,14,30,e,[14,11],e,[15,4],27,33,15,29,15,30,e,[15,11],e,[16,5],33,16,29,16,30,e,[16,12],r,[500,5],60,r,[288,9],61,59,r,[349,10],r,[28,5],36,29,36,30,36,r,[30,8]])}),defaultActions:function(t){for(var e={},r=t.idx,n=t.goto,i=0,s=r.length;i<s;i++){e[r[i]]=n[i]}return e}({idx:n([e,[5,8,1],14,28,31,32,36,39,53,54,55,57,58,60,61]),goto:n([e,[22,8,1],1,19,3,4,33,2,21,30,31,18,34,20,32])}),parseError:function(t,e,r){if(!e.recoverable)throw new r(t,e);this.trace(t),e.destroy()},parse:function(t){var e,r=this,n=new Array(128),i=new Array(128),s=new Array(128),o=this.table,a=0,c=(this.TERROR,this.EOF),l=(this.options.errorRecoveryTokenDiscardCount,[0,o.length]);e=this.__lexer__?this.__lexer__:this.__lexer__=Object.create(this.lexer);var u={parseError:null,quoteName:null,lexer:null,parser:null,pre_parse:null,post_parse:null};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(u[h]=this.yy[h]);u.lexer=e,u.parser=this,e.setInput(t,u),s[a]=null,i[a]=0,n[a]=0,++a;var f=e.yytext;"function"==typeof u.parseError?this.parseError=function(t,e,r){return u.parseError(t,e,r)}:this.parseError=this.originalParseError,"function"==typeof u.quoteName?this.quoteName=u.quoteName:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(t,r,o){var c;if(r&&(u.post_parse&&void 0!==(c=u.post_parse.call(this,u,t))&&(t=c),this.post_parse&&void 0!==(c=this.post_parse.call(this,u,t))&&(t=c)),this.__reentrant_call_depth>1)return t;if(e.cleanupAfterLex&&e.cleanupAfterLex(o),u&&(u.parseError=void 0,u.quoteName=void 0,u.lexer=void 0,u.parser=void 0,e.yy===u&&(e.yy=void 0)),u=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,n.length=0,i.length=0,s.length=0,a=0,!o){for(var l=this.__error_infos.length-1;l>=0;l--){var h=this.__error_infos[l];h&&"function"==typeof h.destroy&&h.destroy()}this.__error_infos.length=0}return t},this.constructParseErrorInfo=function(t,r,o,c){var l={errStr:t,exception:r,text:e.match,value:e.yytext,token:this.describeSymbol(E)||E,token_id:E,line:e.yylineno,expected:o,recoverable:c,state:p,action:y,new_state:g,symbol_stack:n,state_stack:i,value_stack:s,stack_pointer:a,yy:u,lexer:e,parser:this,destroy:function(){var t=!!this.recoverable;for(var e in this)this.hasOwnProperty(e)&&"object"==typeof e&&(this[e]=void 0);this.recoverable=t}};return this.__error_infos.push(l),l};var p,y,d,_,b,m,v,g,E=0,x={$:!0,_$:void 0,yy:u},k=!1;try{for(this.__reentrant_call_depth++,this.pre_parse&&this.pre_parse.call(this,u),u.pre_parse&&u.pre_parse.call(this,u),g=i[a-1];;){if(p=g,this.defaultActions[p])y=2,g=this.defaultActions[p];else if(E||(E=function(){var t=e.lex();return"number"!=typeof t&&(t=r.symbols_[t]||t),t||c}()),_=o[p]&&o[p][E]||l,g=_[1],!(y=_[0])){var N,A=this.describeSymbol(E)||E,S=this.collect_expected_token_set(p);N="number"==typeof e.yylineno?"Parse error on line "+(e.yylineno+1)+": ":"Parse error: ",e.showPosition&&(N+="\n"+e.showPosition(69,10)+"\n"),S.length?N+="Expecting "+S.join(", ")+", got unexpected "+A:N+="Unexpected "+A,b=this.constructParseErrorInfo(N,null,S,!1),k=this.parseError(b.errStr,b,this.JisonParserError);break}switch(y){default:if(y instanceof Array){b=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+p+", token: "+E,null,null,!1),k=this.parseError(b.errStr,b,this.JisonParserError);break}b=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),k=this.parseError(b.errStr,b,this.JisonParserError);break;case 1:n[a]=E,s[a]=e.yytext,i[a]=g,++a,E=0,f=e.yytext;continue;case 2:if(v=this.productions_[g-1],m=v[1],s[a]=void 0,void 0!==(d=this.performAction.call(x,f,g,a-1,s))){k=d;break}a-=m;var O=v[0];n[a]=O,s[a]=x.$,g=o[i[a-1]][O],i[a]=g,++a;continue;case 3:k=!0,void 0!==x.$&&(k=x.$)}break}}catch(t){b=this.constructParseErrorInfo("Parsing aborted due to exception.",t,null,!1),k=this.parseError(b.errStr,b,this.JisonParserError)}finally{k=this.cleanupAfterParse(k,!0,!0),this.__reentrant_call_depth--}return k}};I.originalParseError=I.parseError,I.originalQuoteName=I.quoteName;var $={n:"\n","'":"'",'"':'"',t:"\t",r:"\r","\\":"\\","`":"`",b:"\b"},L=/\\(?:(\\|'|"|r|n|t|b|`)|u(.{4})|x(.{2}))/g,T=function(){function t(t,e){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),null==t&&(t="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:t}),this.hash=e;var r;if(e&&e.exception instanceof Error){var n=e.exception;this.message=n.message||t,r=n.stack}r||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):r=new Error(t).stack),r&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:r})}return"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,Error.prototype):t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t.prototype.name="JisonLexerError",{EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(t,e){var r={errStr:t,recoverable:!!e,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var t=!!this.recoverable;for(var e in this)this.hasOwnProperty(e)&&"object"==typeof e&&(this[e]=void 0);this.recoverable=t}};return this.__error_infos.push(r),r},parseError:function(t,e,r){if(this.yy.parser&&"function"==typeof this.yy.parser.parseError)return this.yy.parser.parseError(t,e,r)||this.ERROR;if("function"==typeof this.yy.parseError)return this.yy.parseError(t,e,r)||this.ERROR;throw new r(t,e)},cleanupAfterLex:function(t){if(this.setInput("",{}),!t){for(var e=this.__error_infos.length-1;e>=0;e--){var r=this.__error_infos[e];r&&"function"==typeof r.destroy&&r.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1},setInput:function(t,e){if(this.yy=e||this.yy||{},!this.__decompressed){for(var r=this.rules,n=0,i=r.length;n<i;n++){var s=r[n];"number"==typeof s&&(r[n]=r[s])}var o=this.conditions;for(var a in o){for(var c=o[a],l=c.rules,i=l.length,u=new Array(i+1),h=new Array(i+1),n=0;n<i;n++){var f=l[n],s=r[f];u[n+1]=s,h[n+1]=f}c.rules=h,c.__rule_regexes=u,c.__rule_count=i}this.__decompressed=!0}return this._input=t||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){if(!this._input)return null;var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=1,r=!1;if("\n"===t)r=!0;else if("\r"===t){r=!0;var n=this._input[1];"\n"===n&&(e++,t+=n,this.yytext+=n,this.yyleng++,this.offset++,this.match+=n,this.matched+=n,this.options.ranges&&this.yylloc.range[1]++)}return r?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(e),t},unput:function(t){var e=t.length,r=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);return this.match=this.match.substr(0,this.match.length-e),this.matched=this.matched.substr(0,this.matched.length-e),r.length-1&&(this.yylineno-=r.length-1),this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-e,this.options.ranges&&(this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng-e),this.yyleng=this.yytext.length,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var t=this.constructLexErrorInfo("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),!1);this._signaled_error_token=this.parseError(t.errStr,t,this.JisonLexerError)||this.ERROR}return this},less:function(t){return this.unput(this.match.slice(t))},pastInput:function(t,e){var r=this.matched.substring(0,this.matched.length-this.match.length);t<0?t=r.length:t||(t=20),e<0?e=r.length:e||(e=1),r=r.substr(2*-t-2);var n=r.replace(/\r\n|\r/g,"\n").split("\n");return n=n.slice(-e),r=n.join("\n"),r.length>t&&(r="..."+r.substr(-t)),r},upcomingInput:function(t,e){var r=this.match;t<0?t=r.length+this._input.length:t||(t=20),e<0?e=t:e||(e=1),r.length<2*t+2&&(r+=this._input.substring(0,2*t+2));var n=r.replace(/\r\n|\r/g,"\n").split("\n");return n=n.slice(0,e),r=n.join("\n"),r.length>t&&(r=r.substring(0,t)+"..."),r},showPosition:function(t,e){var r=this.pastInput(t).replace(/\s/g," "),n=new Array(r.length+1).join("-");return r+this.upcomingInput(e).replace(/\s/g," ")+"\n"+n+"^"},describeYYLLOC:function(t,e){var r,n=t.first_line,i=t.last_line,s=t.first_column,o=t.last_column-1,a=i-n,c=0===a?o-s:1e3;if(0===a?(r="line "+n+", ",r+=0===c?"column "+s:"columns "+s+" .. "+o):r="lines "+n+"(column "+s+") .. "+i+"(column "+o+")",t.range&&e){var l=t.range[0],u=t.range[1]-1;r+=u===l?" {String Offset: "+l+"}":" {String Offset range: "+l+" .. "+u+"}"}return r},test_match:function(t,e){var r,n,i,s,o;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),s=t[0],o=s.length,n=s.match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/^\r?\n?/)[0].length:this.yylloc.last_column+o},this.yytext+=s,this.match+=s,this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+this.yyleng]),this.offset+=o,this._more=!1,this._backtrack=!1,this._input=this._input.slice(o),this.matched+=s,r=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return this.__currentRuleSet__=null,!1}return!!this._signaled_error_token&&(r=this._signaled_error_token,this._signaled_error_token=!1,r)},next:function(){if(this.done)return this.clear(),this.EOF;this._input||(this.done=!0);var t,e,r,n;this._more||this.clear();var i=this.__currentRuleSet__;if(!(i||(i=this.__currentRuleSet__=this._currentRules())&&i.rules)){var s=this.constructLexErrorInfo("Internal lexer engine error on line "+(this.yylineno+1)+'. The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!\n',!1);return this.parseError(s.errStr,s,this.JisonLexerError)||this.ERROR}for(var o=i.rules,a=i.__rule_regexes,c=i.__rule_count,l=1;l<=c;l++)if((r=this._input.match(a[l]))&&(!e||r[0].length>e[0].length)){if(e=r,n=l,this.options.backtrack_lexer){if(!1!==(t=this.test_match(r,o[l])))return t;if(this._backtrack){e=void 0;continue}return!1}if(!this.options.flex)break}if(e)return!1!==(t=this.test_match(e,o[n]))&&t;if(""===this._input)return this.done=!0,this.EOF;var s=this.constructLexErrorInfo("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),this.options.lexer_errors_are_recoverable);return t=this.parseError(s.errStr,s,this.JisonLexerError)||this.ERROR,t===this.ERROR&&(this.match.length||this.input()),t},lex:function(){var t;for("function"==typeof this.options.pre_lex&&(t=this.options.pre_lex.call(this));!t;)t=this.next();return"function"==typeof this.options.post_lex&&(t=this.options.post_lex.call(this,t)||t),t},begin:function(t){return this.pushState(t)},pushState:function(t){return this.conditionStack.push(t),this.__currentRuleSet__=null,this},popState:function(){return this.conditionStack.length-1>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{},JisonLexerError:t,performAction:function(t,e,r,n){switch(r){case 0:break;case 27:return e.yytext=o(e.yytext.substr(1,e.yyleng-2)),25;case 28:return e.yytext=o(e.yytext.substr(1,e.yyleng-2)),26;case 29:return e.yytext=o(e.yytext),26;default:return this.simpleCaseActionClusters[r]}},simpleCaseActionClusters:{1:24,2:16,3:17,4:20,5:21,6:18,7:19,8:22,9:23,10:4,11:5,12:15,13:14,14:6,15:7,16:8,17:9,18:27,19:28,20:29,21:30,22:13,23:12,24:10,25:11,26:3,30:1,31:"INVALID"},rules:[/^(?:\s+)/,/^(?:(-)?\d+(\.\d+)?\b)/,/^(?:\|\|)/,/^(?:&&)/,/^(?:===)/,/^(?:!==)/,/^(?:==)/,/^(?:!=)/,/^(?:<=)/,/^(?:>=)/,/^(?:<)/,/^(?:>)/,/^(?:\+\+)/,/^(?:--)/,/^(?:\+)/,/^(?:!)/,/^(?:\()/,/^(?:\))/,/^(?:true)/,/^(?:false)/,/^(?:undefined)/,/^(?:null)/,/^(?:,)/,/^(?:\.)/,/^(?:\[)/,/^(?:\])/,/^(?::)/,/^(?:(("(?:([^\n\r"\\]+)|(\\(?:(?:(?:["'\\bfnrtv])|(?:[^\d"'\\bfnrt-vx]))|(?:[x](?:[\dA-Fa-f]){2})|(?:[u](?:[\dA-Fa-f]){4}))))*")|('(?:([^\n\r'\\]+)|(\\(?:(?:(?:["'\\bfnrtv])|(?:[^\d"'\\bfnrt-vx]))|(?:[x](?:[\dA-Fa-f]){2})|(?:[u](?:[\dA-Fa-f]){4}))))*')))/,/^(?:((`(?:([^\n\r\\`]+)|(\\(?:(?:(?:["'\\bfnrtv])|(?:[^\d"'\\bfnrt-vx]))|(?:[x](?:[\dA-Fa-f]){2})|(?:[u](?:[\dA-Fa-f]){4}))))*`)))/,/^(?:((?:[$A-Z_a-z]|(\\(?:(?:(?:["'\\bfnrtv])|(?:[^\d"'\\bfnrt-vx]))|(?:[x](?:[\dA-Fa-f]){2})|(?:[u](?:[\dA-Fa-f]){4}))))(?:(?:[$A-Z_a-z]|(\\(?:(?:(?:["'\\bfnrtv])|(?:[^\d"'\\bfnrt-vx]))|(?:[x](?:[\dA-Fa-f]){2})|(?:[u](?:[\dA-Fa-f]){4}))))|\d)*))/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!0}}}}();return I.lexer=T,R.prototype=I,I.Parser=R,new R}();void 0!==t&&void 0!==r&&(r.parser=n,r.Parser=n.Parser,r.parse=function(){return n.parse.apply(n,arguments)})},{}],2:[function(t,e,r){"use strict";function n(t){return t.createElement(_)}function i(t,e){this.value=t,this.name=e}function s(t){this.message='Unexpected characters "'+t[0]+'":\n'+t.input.replace(/\t|\n/g,".")+"\n"+new Array(t.index+1).join("-")+"^",this.name="ParseError"}function o(t){function e(t,e){L[t.nodeType](t,e)}function r(t){if(t instanceof i){var e=t.name;if(null!=e&&(e=e.toString()),e&&$.hasOwnProperty(e))return $[e];var s=n(o);s.innerHTML=t.value,e&&(s.id=e),t=s}else if("string"==typeof t){if($.hasOwnProperty(t))return $[t];t=o.querySelector("#"+t)}if(!(this instanceof r))return new r(t);t instanceof HTMLTemplateElement?(t.id&&($[t.id]=this),A?(this.node=t,t.parentNode&&t.parentNode.removeChild(t)):this.node=t.cloneNode(!0),this.ready=!1):(this.node=n(o),this.ready=!0),this.closures={}}t=t||{};var o=t.document||document,N=t.prefix||"bb-",A=void 0===t.destructive||!!t.destructive,S=a.map(function(t){return N+t}),O={};S.forEach(function(t,e){O[t]=a[e]});var w=N+p,P="["+w+"]",R=N+y,I=N+d,$={},L={};L[b]=function(t,r){function i(e,n){p=!0;var i=k.parse(n);o[O[d]]=r._addClosure(i),t.removeAttribute(d)}if(t.hasAttribute(S[f])&&(t.nodeName!==_||t.hasAttribute(I)))if(t.hasAttribute(S[u])||t.hasAttribute(S[h]))t.removeAttribute(S[f]);else{var s=n(t.ownerDocument);s.setAttribute(S[f],t.getAttribute(S[f])),t.removeAttribute(S[f]),[S[c],S[l],R].forEach(function(e){t.hasAttribute(e)&&(s.setAttribute(e,t.getAttribute(e)),t.removeAttribute(e))}),t.parentNode.insertBefore(s,t),s.content.appendChild(t),t=s}var o={},p=!1;if(t.attributes.length>a.length)S.forEach(function(e){t.hasAttribute(e)&&i(e,t.getAttribute(e))});else for(var y=t.attributes.length-1;y>=0;y--){var d=t.attributes[y].name;d in O&&i(d,t.attributes[y].value)}t.nodeName===_&&(t.hasAttribute(R)||t.hasAttribute(I))&&(p=!0),p&&t.setAttribute(w,JSON.stringify(o)),t.nodeName===_?(e(t.content,r),p||t.parentNode.replaceChild(t.content,t)):E.call(t.childNodes).forEach(function(t){e(t,r)})},L[m]=function(){function r(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function i(t){return t.replace(p,function(){return arguments[1]})}function o(t){return t.replace(p,function(){return c[arguments[1]]})}var a=t.delimiters||["{","}"],c={"\\":"\\\\"};c[a[0]]=a[0],c[a[1]]=a[1];var l,f,p=new RegExp("\\\\("+["\\\\",r(a[0]),r(a[1])].join("|")+")","g"),y=["aaa((?:a|f|c|d|e|b(?:a|f|c|d|e|b(?:a|f|c|d|e)))*)bbb","aa((?:a|f|c|d|e|b(?:a|f|c|d|e))*)bb","((?:b|f|c|d|e|a(?:b|f|c|d|e))(?:b|f|c|d|e|a(?:b|f|c|d|e))*(?:a(?!a)|b|f|c|d|e||a(?:b|f|c|d|e))|(?:a(?!a)))","(.+)"],d={a:r(a[0]),b:r(a[1]),c:r("\\"+a[0]),d:r("\\"+a[1]),e:"[^"+r(a[0])+r(a[1])+"]",f:r("\\\\")},_=new RegExp(y.map(function(t){return"(?:"+t.replace(/a|b|c|d|e|f/g,function(){return d[arguments[0]]})+")"}).join("|"),"g");return function(t,r){for(;l=_.exec(t.nodeValue);)if(l[3])f=t.ownerDocument.createTextNode(i(l[3])),t.parentNode.insertBefore(f,t);else if(l[2])f=n(t.ownerDocument),f.setAttribute(S[u],o(l[2])),t.parentNode.insertBefore(f,t),e(f,r);else{if(!l[1])throw _.lastIndex=0,new s(l);f=n(t.ownerDocument),f.setAttribute(S[h],o(l[1])),t.parentNode.insertBefore(f,t),e(f,r)}t.parentNode.removeChild(t)}}(),L[v]=function(t,e){},L[g]=function(t,r){E.call(t.childNodes).forEach(function(t){e(t,r)})};var T={};return T[b]=function(){var t,e,i,s=n(o);return function(n,o){var a;if(e=JSON.parse(n.getAttribute(w)),n.removeAttribute(w),e.if)if(i=o.closures[e.if](),n.nextElementSibling&&n.nextElementSibling.hasAttribute(R)){if(!i)return n.nextElementSibling.removeAttribute(R),n.parentNode.removeChild(n);n.parentNode.removeChild(n.nextElementSibling)}else if(!i)return n.parentNode.removeChild(n);if(e.alias&&(i=o.closures[e.alias](),Array.isArray(i)||(i=[i]),a={},x.push(a),i.forEach(function(t){a[t.name]=t.value})),e.text)i=o.closures[e.text](),null!=i?n.parentNode.replaceChild(n.ownerDocument.createTextNode(i),n):n.parentNode.removeChild(n);else if(e.html)i=o.closures[e.html](),i instanceof Node?n.parentNode.replaceChild(i,n):null!=i?(s.innerHTML=i,n.parentNode.replaceChild(s.content,n)):n.parentNode.removeChild(n);else if(n.nodeName!==_||n.hasAttribute(I))if(e.attr&&(i=o.closures[e.attr](),Array.isArray(i)||(i=[i]),i.forEach(function(t){if(null!=t.value&&null!=t.name){var e=t.name.toString();e&&n.setAttribute(e,t.value)}})),e.class&&(i=o.closures[e.class](),Array.isArray(i)||(i=[i]),i.forEach(function(t){if(null!=t){var e=t.toString();e&&n.classList.add(e)}})),n.nodeName===_)n.removeAttribute(I),T[g](n.content,o);else for(;t=n.querySelector(P);)T[b](t,o);else{if(e.repeat){a||(a={},x.push(a)),i=o.closures[e.repeat]();var c="after"===i._order;Array.isArray(i)||(i=[i]);var l=function(t){var e=o.closures[t];return e?function(){var t=r(e())._clone();n.parentNode.insertBefore(T[g](t.node.content,t),c?n.nextSibling:n)}:function(){n.parentNode.insertBefore(T[g](n.cloneNode(!0).content,o),c?n.nextSibling:n)}}(e.import);i.reduceRight(function(t,e){var r=e.name,n=e.value;return null==n&&(n=[]),function(){n.forEach(function(e,n){a[r]=e,a["_"+r+"_"]=n,t()})}},l)()}else if(e.import){i=o.closures[e.import]();var u=r(i)._clone();n.parentNode.insertBefore(T[g](u.node.content,u),n)}else n.parentNode.insertBefore(T[g](n.content,o),n);n.parentNode.removeChild(n)}a&&x.pop()}}(),T[g]=function(){var t;return function(e,r){for(;t=e.querySelector(P);)T[b](t,r);return e}}(),r.bbObj=function(t,e){return new i(t,e)},r.clean=function(t){if(void 0===t)for(var e in $)delete $[e];else"string"==typeof t&&delete $[t]},r.prototype.merge=function(){for(var t=this._clone(),e=[],r=0;r<arguments.length;++r)null!=arguments[r]&&e.push(arguments[r]);var n=x.get();return x.set(e),T[g](t.node.content,t),x.set(n),t.node.content},r.prototype._addClosure=function(){var t=0;return function(e){var r="fun"+ ++t;return this.closures[r]=e,r}}(),r.prototype._compile=function(){return e(this.node.content,this),this.ready=!0,this},r.prototype._clone=function(){return this.ready||this._compile(),Object.create(r.prototype,{node:{value:this.node.cloneNode(!0)},closures:{value:this.closures},ready:{value:!0}})},r}var a=["if","alias","text","html","repeat","import","attr","class"],c=0,l=1,u=2,h=3,f=4,p="global",y="else",d="inert",_="TEMPLATE",b=Node.ELEMENT_NODE,m=Node.TEXT_NODE,v=Node.COMMENT_NODE,g=Node.DOCUMENT_FRAGMENT_NODE,E=Array.prototype.slice,x={stack:null,resolve:function(t){for(var e,r=this.stack.length;void 0===e&&--r>=0;)e=this.stack[r][t];return e},get:function(){return this.stack},set:function(t){this.stack=t},push:function(t){this.stack.push(t)},pop:function(){this.stack.pop()}};i.prototype.toString=function(){return this.value&&null!=this.name?this.name.toString():""};var k=t("../parser.js");k.parser.yy.context=x,k.parser.yy.BBObj=i,e.exports=o},{"../parser.js":1}]},{},[2])(2)});