<!DOCTYPE html>
<html>
<head>
	<title>Simple Barbiche examples</title>
	<meta charset="utf-8">
	<script type="text/javascript" src="https://cdn.rawgit.com/manubb/barbiche/c334924b/examples/js/polyfill.min.js"></script>
	<script type="text/javascript" src="https://cdn.rawgit.com/manubb/barbiche/c334924b/barbiche.js"></script>
</head>
<body>
	<template id="test">
		<div bb-class="[true: class]">
			<ul>
				<template bb-repeat="[items:'item']">
					<li bb-if="item.show" bb-class="[true: item.species || 'unknown']">{{item.name}}</li>
				</template>
			</ul>
			<span>{{item.join(', ').toUpperCase()}}</span>
		</div>
	</template>
	<template id="simple-sub-template">
		<div>
			<template bb-import="'sub-template1'"></template>
		</div>
	</template>
	<template id="sub-template1">
		<span>I am a sub-template!</span>
	</template>
	<template id="dynamic-sub-template">
		<div>
			<template bb-repeat="[items:'item']" bb-import="item"></template>
		</div>
	</template>
	<template id="sub1">
		<span>I am sub-template1!</span>
	</template>
	<template id="sub2">
		<span>I am sub-template2!</span>
	</template>
	<template id="recursive">
		<template bb-if="children.length" bb-import="'recursive-sub'"></template>
	</template>
	<template id="recursive-sub">
		<ul>
			<li bb-repeat="[children:'child']">{{child.name}}
				<template bb-if="child.children" bb-alias="[child.children:'children']" bb-import="'recursive-sub'"></template>
			</li>
		</ul>
	</template>
	<script>
		document.addEventListener('DOMContentLoaded', function() {
			document.body.appendChild(Barbiche('test').merge({
				"class": "list",
				"items": [
					{species: "hen", name: "Elsa", show: true},
					{species: "cat", name: "Jacynthe", show: false},
					{species: null, name: "Zaza", show: true}
				],
				item: ["hen", "cat", "dog", "spider"]
			}));
			document.body.appendChild(Barbiche('simple-sub-template').merge());
			document.body.appendChild(Barbiche('dynamic-sub-template').merge({
				items: ['sub2', 'sub1']
			}));
			document.body.appendChild(Barbiche('recursive').merge({
				children: [
					{
						name: "Solomon",
						children: [
							{
								name : "Lexie",
								children: [
									{
										name: "Shavon",
										children: [
											{
												name : "Shirleen"
											}, {
												name : "Kathleen"
											}
										]
									},
									{
										name: "Travis"
									},
									{
										name: "Adele"
									},
									{
										name: "Barney"
									}
								]
							}, {
								name : "Allie"
							}
						]
					}, {
						name: "Juliann",
						children: [
							{
								name : "Guy"
							}, {
								name : "Yaeko"
							}
						]
					}
				]
			}));
		});
	</script>
</body>
</html>
